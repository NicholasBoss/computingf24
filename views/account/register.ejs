<% if (title) { %>
    <h1>
        <%= title %>
    </h1>
    <% } else { res.redirect('/') } %>

        <%- messages() %>
        <% if (errors) { %>
            <ul id="errorList" class="notice error">
                <% errors.array().forEach(error=> { %>
                    <li>
                        <%= error.msg %>
                    </li>
                    <% }) %>
            </ul>
            <% } %> 
                <script src="/js/togglePass.js" defer></script>
                <form action="/account/register" method="post">
                    <div class="container">
                        <label><b>First Name:</b>
                        <input type="text" id="account_firstname" name="account_firstname" required 
                            placeholder="Enter First Name"
                            title="First Name"
                            value="<%= locals.account_firstname %>"></label><br>
                        <label><b>Last Name:</b>
                        <input type="text" id="lname" name="account_lastname" required 
                            placeholder="Enter Last Name"
                            title="Last Name"
                            value="<%= locals.account_lastname %>"></label><br>
                        <label><b>Phone Number:</b>
                        <input type="tel" id="phone_num" name="account_phone" required 
                            pattern="\d{10}" 
                            placeholder="123-456-7890"
                            title="Format: 123-456-7890"
                            value="<%= locals.account_phone %>"></label><br>
                        <label><b>Email:</b>
                        <input type="email" id="email" name="account_email" required 
                            placeholder="Enter Email"
                            title="Format: example@example.com"
                            value="<%= locals.account_email %>"></label><br>
                        <label><b>Password:</b>
                        <input type="password" id="password" name="account_password" required 
                            placeholder="Enter Password"
                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                            title="Must contain at least one number, one uppercase, one lowercase letter, one special character, and at least 8 or more characters"
                            value="<%= locals.account_password %>">
                            <i class="eye-toggle" id="togglePass"><img id="passImg" src="/images/icons/eye-regular.svg" alt="Password Eye" title="Show Password"></i></label><br>
                        <p>Password must contain the following:</p>
                        <ul>
                            <li>At least one number.</li>
                            <li>At least one lowercase letter.</li>
                            <li>At least one uppercase letter.</li>
                            <li>At least one special character</li>
                            <li>At least 8 characters long.</li>
                        </ul>
                        
                        <button class="formbtn" type="submit">Register</button>
                    </div>
                </form>